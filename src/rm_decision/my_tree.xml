 <root BTCPP_format="4" >
     <BehaviorTree ID="MainTree">
        <Sequence name="root">
            <checkMode checkmode="1"/>
            <Script code="status:=0" />

            <ReactiveSequence>
                <ReactiveFallback>
                     <checkBlood checkblood="400"/>

                     <ReactiveSequence>
                        <checkTime checktime="240"/>

                        <movebase goal="2;1;1" _skipIf="status==3" />
                        <Script code="status:=3" />

                        <Fallback>
                            <Inverter>
                                <Action ID="attracked"/>
                            </Inverter>
                            <Action ID="spinAction"/>
                        </Fallback>

                        <patrol goal="2;1;1;0"/>
                    </ReactiveSequence>

                    <movebase goal="3.5;2.5;1"/>
                </ReactiveFallback> 


                <Sequence>
                    <spinAction name="spin" _onRunning="spin:=1" _onSuccess="spin:=0"/>
                    <movebase goal="-1.5;-2;1" _skipIf="status==1" _onSuccess="status:=1"/>
                </Sequence>

                <KeepRunningUntilFailure>
                    <patrol goal="-1.3;-2;1;0"/>
                </KeepRunningUntilFailure> 

            </ReactiveSequence>

        </Sequence>
     </BehaviorTree>
 </root>